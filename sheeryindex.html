<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>占有欲程度测试 - 40题专业版</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', 'Microsoft YaHei', sans-serif;
        }
        
        :root {
            --primary: #8a4fff;
            --primary-light: #a67cff;
            --primary-dark: #6c31e0;
            --secondary: #c8a2ff;
            --accent: #ff6b9d;
            --light: #f8f9fa;
            --dark: #343a40;
            --gray: #6c757d;
            --success: #28a745;
            --warning: #ffc107;
            --danger: #dc3545;
        }
        
        body {
            background: linear-gradient(135deg, #f5f0ff 0%, #eae4ff 100%);
            color: var(--dark);
            line-height: 1.6;
            padding: 20px;
            min-height: 100vh;
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
            padding: 25px;
            background: white;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }
        
        h1 {
            color: var(--primary);
            margin-bottom: 10px;
            font-size: 32px;
        }
        
        .subtitle {
            color: var(--gray);
            font-size: 16px;
            max-width: 700px;
            margin: 0 auto;
        }
        
        .card {
            background: white;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            padding: 25px;
            margin-bottom: 25px;
        }
        
        .disclaimer {
            background: #fff9e6;
            border-left: 4px solid var(--warning);
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 8px;
            font-size: 14px;
        }
        
        .instructions {
            background: #f5f0ff;
            border-left: 4px solid var(--primary);
            padding: 20px;
            margin-bottom: 20px;
            border-radius: 8px;
        }
        
        .instructions h3 {
            color: var(--primary);
            margin-bottom: 10px;
        }
        
        .instructions ol {
            padding-left: 20px;
        }
        
        .instructions li {
            margin-bottom: 8px;
        }
        
        .question-container {
            margin: 20px 0;
        }
        
        .question {
            margin-bottom: 20px;
            padding: 18px;
            background: var(--light);
            border-radius: 10px;
            transition: all 0.3s ease;
            border-left: 3px solid transparent;
        }
        
        .question:hover {
            background: #f5f0ff;
            border-left-color: var(--primary);
        }
        
        .question-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .question-text {
            font-weight: 600;
            font-size: 16px;
            color: var(--dark);
            flex: 1;
            margin-right: 15px;
        }
        
        .question-number {
            background: var(--primary);
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            flex-shrink: 0;
        }
        
        .options {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }
        
        .option {
            flex: 1;
            min-width: 100px;
        }
        
        .option input {
            display: none;
        }
        
        .option label {
            display: block;
            padding: 10px 12px;
            background: white;
            border: 1px solid #ddd;
            border-radius: 8px;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 13px;
        }
        
        .option input:checked + label {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }
        
        .option label:hover {
            background: #e6eeff;
        }
        
        .btn-container {
            text-align: center;
            margin: 30px 0;
        }
        
        button {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
            border: none;
            padding: 14px 35px;
            font-size: 16px;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(138, 79, 255, 0.3);
            font-weight: 600;
        }
        
        button:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(138, 79, 255, 0.4);
        }
        
        button:active {
            transform: translateY(-1px);
        }
        
        .result-container {
            display: none;
            animation: fadeIn 0.8s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .result-header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .score-container {
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
            gap: 20px;
            margin: 30px 0;
        }
        
        .score-card {
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            color: white;
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            flex: 1;
            min-width: 180px;
            box-shadow: 0 8px 20px rgba(138, 79, 255, 0.3);
        }
        
        .score-label {
            font-size: 15px;
            margin-bottom: 10px;
            opacity: 0.9;
        }
        
        .score-value {
            font-size: 32px;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .score-description {
            font-size: 13px;
            opacity: 0.9;
        }
        
        .interpretation {
            background: white;
            padding: 25px;
            border-radius: 10px;
            margin-bottom: 20px;
            border-left: 4px solid var(--accent);
        }
        
        .interpretation h3 {
            color: var(--primary);
            margin-bottom: 15px;
        }
        
        .recommendation {
            background: #f5f0ff;
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
        }
        
        .recommendation h3 {
            color: var(--primary);
            margin-bottom: 10px;
        }
        
        .level-indicator {
            display: flex;
            margin: 25px 0;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
        }
        
        .level {
            flex: 1;
            padding: 12px 5px;
            text-align: center;
            color: white;
            font-size: 13px;
            font-weight: 600;
        }
        
        .level-1 { background: #28a745; }
        .level-2 { background: #7db9b6; }
        .level-3 { background: #ffc107; }
        .level-4 { background: #fd7e14; }
        .level-5 { background: #dc3545; }
        
        footer {
            text-align: center;
            margin-top: 40px;
            padding: 20px;
            color: var(--gray);
            font-size: 14px;
        }
        
        .progress-container {
            margin: 20px 0;
            background: #f1f1f1;
            border-radius: 10px;
            height: 10px;
            overflow: hidden;
        }
        
        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, var(--primary-light), var(--primary));
            border-radius: 10px;
            transition: width 0.5s ease;
        }
        
        .progress-text {
            text-align: center;
            margin-top: 5px;
            font-size: 14px;
            color: var(--gray);
        }
        
        .dimension-results {
            margin: 25px 0;
        }
        
        .dimension {
            margin-bottom: 15px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
        }
        
        .dimension-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
        }
        
        .dimension-name {
            font-weight: 600;
            color: var(--primary-dark);
        }
        
        .dimension-score {
            font-weight: bold;
            color: var(--primary);
        }
        
        .dimension-bar {
            height: 10px;
            background: #e9ecef;
            border-radius: 5px;
            overflow: hidden;
        }
        
        .dimension-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary-light), var(--primary));
            border-radius: 5px;
            transition: width 1s ease;
        }
        
        @media (max-width: 768px) {
            .options {
                flex-direction: column;
            }
            
            .option {
                min-width: 100%;
            }
            
            .score-card {
                min-width: 100%;
            }
            
            .question-header {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .question-number {
                margin-top: 10px;
            }
            
            .level-indicator {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-heart"></i> 占有欲程度测试 - 40题专业版</h1>
            <p class="subtitle">深入了解您在人际关系中的占有欲模式，探索情感健康与个人边界</p>
        </header>
        
        <div class="card">
            <div class="disclaimer">
                <strong><i class="fas fa-exclamation-triangle"></i> 温馨提示：</strong> 本测试为原创设计，旨在帮助自我探索，不能替代专业心理咨询。测试结果仅供参考。
            </div>
            
            <div class="instructions">
                <h3><i class="fas fa-info-circle"></i> 测试说明</h3>
                <ol>
                    <li>请根据您的真实感受和实际情况作答</li>
                    <li>每个问题有5个选项，请选择最符合您情况的答案</li>
                    <li>所有问题都需要作答，否则无法获取准确结果</li>
                    <li>测试完成后，系统会提供详细的占有欲分析和个性化建议</li>
                </ol>
            </div>
            
            <div class="progress-container">
                <div class="progress-bar" id="progress-bar" style="width: 0%"></div>
            </div>
            <div class="progress-text" id="progress-text">已完成 0/40 题</div>
            
            <form id="possession-form">
                <div class="question-container" id="question-container">
                    <!-- 问题将通过JavaScript动态生成 -->
                </div>
                
                <div class="btn-container">
                    <button type="submit"><i class="fas fa-chart-bar"></i> 查看详细测试结果</button>
                </div>
            </form>
        </div>
        
        <div class="result-container card" id="result-container">
            <div class="result-header">
                <h2><i class="fas fa-clipboard-check"></i> 您的占有欲测试结果</h2>
                <p>以下是根据您的回答得出的详细分析结果</p>
            </div>
            
            <div class="level-indicator">
                <div class="level level-1">极低 (40-80)</div>
                <div class="level level-2">较低 (81-120)</div>
                <div class="level level-3">适中 (121-160)</div>
                <div class="level level-4">较高 (161-200)</div>
            </div>
            
            <div class="score-container">
                <div class="score-card">
                    <div class="score-label">总分</div>
                    <div class="score-value" id="total-score">0</div>
                    <div class="score-description">40题总分</div>
                </div>
                <div class="score-card">
                    <div class="score-label">占有欲程度</div>
                    <div class="score-value" id="score-level">适中</div>
                    <div class="score-description">综合评估</div>
                </div>
                <div class="score-card">
                    <div class="score-label">情感健康指数</div>
                    <div class="score-value" id="health-index">0%</div>
                    <div class="score-description">关系健康度</div>
                </div>
            </div>
            
            <div class="interpretation">
                <h3><i class="fas fa-analytics"></i> 总体结果解读</h3>
                <div id="overall-interpretation">
                    <!-- 总体结果解释将通过JavaScript动态生成 -->
                </div>
            </div>
            
            <div class="interpretation">
                <h3><i class="fas fa-chart-pie"></i> 各维度分析</h3>
                <div class="dimension-results" id="dimension-results">
                    <!-- 各维度结果将通过JavaScript动态生成 -->
                </div>
            </div>
            
            <div class="recommendation">
                <h3><i class="fas fa-hands-helping"></i> 个性化建议</h3>
                <div id="recommendation">
                    <!-- 建议内容将通过JavaScript动态生成 -->
                </div>
            </div>
            
            <div class="btn-container">
                <button onclick="resetTest()"><i class="fas fa-redo"></i> 重新测试</button>
            </div>
        </div>
        
        <footer>
            <p>© 2023 心理健康探索 | 本测试为原创设计，旨在帮助了解情感模式</p>
            <p>注意：健康的关系建立在信任、尊重和个人空间的基础上</p>
        </footer>
    </div>

    <script>
        // 占有欲测试问题和选项数据（40题）
        const questions = [
            "当您的伴侣与异性朋友单独相处时，您会感到不安吗？",
            "您会经常查看伴侣的手机或社交媒体吗？",
            "如果伴侣没有及时回复您的消息，您会感到焦虑并多次联系吗？",
            "您是否希望伴侣把所有空闲时间都花在您身上？",
            "当伴侣与朋友外出时，您会要求知道所有细节吗？",
            "您会因为伴侣赞美他人而感到嫉妒吗？",
            "您是否认为伴侣应该与所有异性朋友保持距离？",
            "您会因为伴侣没有按照您期望的方式表达爱意而感到不满吗？",
            "您会干涉伴侣的穿衣打扮或社交方式吗？",
            "当伴侣关注其他人时，您会感到被忽视或威胁吗？",
            "您是否经常需要伴侣的保证来确认他们对您的感情？",
            "您会因为伴侣过去的感情经历而感到不安吗？",
            "您会限制伴侣参加某些社交活动吗？",
            "您是否认为真正的爱情意味着完全拥有对方？",
            "当伴侣有自己的兴趣爱好时，您会感到被冷落吗？",
            "您会要求伴侣随时报告他们的行踪吗？",
            "当伴侣与同事聚餐时，您会感到不舒服吗？",
            "您会通过发脾气来获得伴侣的关注吗？",
            "您是否认为伴侣应该把您放在所有关系的首位？",
            "当伴侣与家人相处时间较长时，您会感到嫉妒吗？",
            "您会检查伴侣的通话记录或聊天记录吗？",
            "您会因为伴侣关注社交媒体上的异性而生气吗？",
            "您会要求伴侣删除异性朋友的联系方式吗？",
            "当伴侣获得他人赞美时，您会感到不安吗？",
            "您会通过控制经济来限制伴侣的自由吗？",
            "您会因为伴侣的社交活动而与其发生争执吗？",
            "您会要求伴侣在朋友圈公开你们的恋情吗？",
            "当伴侣与前任有联系时，您会强烈反对吗？",
            "您会通过查岗来确认伴侣的行踪吗？",
            "您会因为伴侣的异性朋友而失眠或食欲不振吗？",
            "您会要求伴侣随时接听您的电话吗？",
            "当伴侣与朋友旅行时，您会强烈反对吗？",
            "您会通过情绪操控来获得伴侣的服从吗？",
            "您会因为伴侣的社交圈而感到威胁吗？",
            "您会限制伴侣与某些朋友的来往吗？",
            "当伴侣获得工作成就时，您会感到被忽视吗？",
            "您会通过贬低他人来抬高自己在伴侣心中的地位吗？",
            "您会因为伴侣的独立性而感到不安吗？",
            "您会要求伴侣在所有事情上都优先考虑您的感受吗？",
            "当伴侣需要个人空间时，您会感到被拒绝吗？"
        ];
        
        const options = [
            { text: "从不", value: 1 },
            { text: "很少", value: 2 },
            { text: "有时", value: 3 },
            { text: "经常", value: 4 },
            { text: "总是", value: 5 }
        ];
        
        // 维度分类
        const dimensions = {
            "情感安全感": [1, 10, 11, 18, 24, 30, 38, 40],
            "社交控制欲": [2, 5, 13, 16, 21, 23, 28, 29, 35],
            "个人空间尊重": [4, 9, 14, 15, 19, 25, 32, 36, 39],
            "信任与嫉妒": [3, 6, 7, 12, 17, 20, 22, 26, 27, 31, 33, 34, 37]
        };
        
        // 初始化测试
        function initTest() {
            const questionContainer = document.getElementById('question-container');
            
            questions.forEach((question, index) => {
                const questionElement = document.createElement('div');
                questionElement.className = 'question';
                questionElement.id = `question-${index}`;
                
                const questionHeader = document.createElement('div');
                questionHeader.className = 'question-header';
                
                const questionText = document.createElement('div');
                questionText.className = 'question-text';
                questionText.textContent = `${index + 1}. ${question}`;
                
                const questionNumber = document.createElement('div');
                questionNumber.className = 'question-number';
                questionNumber.textContent = index + 1;
                
                questionHeader.appendChild(questionText);
                questionHeader.appendChild(questionNumber);
                
                const optionsContainer = document.createElement('div');
                optionsContainer.className = 'options';
                
                options.forEach(option => {
                    const optionElement = document.createElement('div');
                    optionElement.className = 'option';
                    
                    const input = document.createElement('input');
                    input.type = 'radio';
                    input.name = `question-${index}`;
                    input.id = `question-${index}-option-${option.value}`;
                    input.value = option.value;
                    input.required = true;
                    input.addEventListener('change', updateProgress);
                    
                    const label = document.createElement('label');
                    label.htmlFor = `question-${index}-option-${option.value}`;
                    label.textContent = option.text;
                    
                    optionElement.appendChild(input);
                    optionElement.appendChild(label);
                    optionsContainer.appendChild(optionElement);
                });
                
                questionElement.appendChild(questionHeader);
                questionElement.appendChild(optionsContainer);
                questionContainer.appendChild(questionElement);
            });
            
            updateProgress();
        }
        
        // 更新进度条
        function updateProgress() {
            let answeredCount = 0;
            
            questions.forEach((_, index) => {
                if (document.querySelector(`input[name="question-${index}"]:checked`)) {
                    answeredCount++;
                }
            });
            
            const progress = (answeredCount / questions.length) * 100;
            document.getElementById('progress-bar').style.width = `${progress}%`;
            document.getElementById('progress-text').textContent = `已完成 ${answeredCount}/${questions.length} 题`;
        }
        
        // 计算占有欲程度和各维度分数
        function calculateScores() {
            let totalScore = 0;
            const dimensionScores = {};
            
            // 初始化各维度分数
            Object.keys(dimensions).forEach(dimension => {
                dimensionScores[dimension] = { sum: 0, count: 0, mean: 0 };
            });
            
            questions.forEach((_, index) => {
                const selectedOption = document.querySelector(`input[name="question-${index}"]:checked`);
                if (selectedOption) {
                    const value = parseInt(selectedOption.value);
                    totalScore += value;
                    
                    // 计算各维度分数
                    Object.keys(dimensions).forEach(dimension => {
                        if (dimensions[dimension].includes(index + 1)) {
                            dimensionScores[dimension].sum += value;
                            dimensionScores[dimension].count++;
                        }
                    });
                }
            });
            
            // 计算各维度均分
            Object.keys(dimensionScores).forEach(dimension => {
                if (dimensionScores[dimension].count > 0) {
                    dimensionScores[dimension].mean = dimensionScores[dimension].sum / dimensionScores[dimension].count;
                }
            });
            
            // 计算情感健康指数（反向计算，分数越低越健康）
            const healthIndex = Math.max(0, 100 - ((totalScore - 40) / 160) * 100);
            
            return {
                totalScore,
                healthIndex: Math.round(healthIndex),
                dimensionScores
            };
        }
        
        // 获取结果解释
        function getInterpretation(scores) {
            let level, overallInterpretation, recommendation;
            
            if (scores.totalScore <= 80) {
                level = "极低";
                overallInterpretation = `
                    <p>您的占有欲程度非常低，这表明您在关系中非常独立和信任对方。您尊重伴侣的个人空间，能够健康地处理关系中的距离感。</p>
                    <p>这种低占有欲通常意味着您有很强的安全感和自信心，不依赖伴侣的持续关注来确认自我价值。</p>
                    <p>情感健康指数为${scores.healthIndex}%，表明您的关系模式非常健康。</p>
                `;
                recommendation = `
                    <p>您的关系模式非常健康，继续保持这种平衡：</p>
                    <ul>
                        <li>维持健康的个人边界，同时保持情感连接</li>
                        <li>继续培养独立性和个人兴趣爱好</li>
                        <li>确保您的低占有欲不会让伴侣感到被忽视</li>
                        <li>在保持独立的同时，适时表达关心和重视</li>
                        <li>与伴侣分享您的安全感来源，帮助ta理解您的情感模式</li>
                    </ul>
                `;
            } else if (scores.totalScore <= 120) {
                level = "较低";
                overallInterpretation = `
                    <p>您的占有欲程度较低，这表明您在关系中比较理性和平衡。您能够给予伴侣适当的空间，同时保持情感的连接。</p>
                    <p>这种适度的占有欲是健康关系的标志，表明您既关心伴侣，又尊重他们的独立性。</p>
                    <p>情感健康指数为${scores.healthIndex}%，表明您的关系模式相当健康。</p>
                `;
                recommendation = `
                    <p>您的关系模式相当健康，以下建议可以帮助您维持这种平衡：</p>
                    <ul>
                        <li>继续保持开放沟通，分享彼此的感受和需求</li>
                        <li>在关心伴侣和保持个人空间之间找到平衡点</li>
                        <li>培养共同的兴趣爱好，同时尊重各自的独立空间</li>
                        <li>定期反思关系中的需求是否得到满足</li>
                        <li>学习识别早期的不安信号，及时进行自我调节</li>
                    </ul>
                `;
            } else if (scores.totalScore <= 160) {
                level = "适中";
                overallInterpretation = `
                    <p>您的占有欲程度适中，这表明您在关系中既有情感的投入，也保持一定的理性。您可能会在某些情况下感到不安，但通常能够理性处理。</p>
                    <p>这种程度的占有欲是常见的，反映了您对关系的重视和对伴侣的关心。</p>
                    <p>情感健康指数为${scores.healthIndex}%，表明您的关系模式总体健康，但有些方面可以进一步优化。</p>
                `;
                recommendation = `
                    <p>您的关系模式总体健康，以下建议可以帮助您进一步优化：</p>
                    <ul>
                        <li>学习识别引发不安情绪的具体原因</li>
                        <li>练习在感到不安时进行自我安抚的技巧</li>
                        <li>与伴侣坦诚沟通您的感受和需求</li>
                        <li>培养更多的自信和安全感</li>
                        <li>尝试给予伴侣更多信任，观察关系的积极变化</li>
                        <li>建立支持系统，不把所有情感需求都寄托在伴侣身上</li>
                    </ul>
                `;
            } else {
                level = "较高";
                overallInterpretation = `
                    <p>您的占有欲程度较高，这可能意味着您在关系中容易感到不安，需要较多的确认和保证。过度的占有欲有时会给关系带来压力。</p>
                    <p>这种模式可能源于对关系安全感的担忧或对自我价值的不确定。</p>
                    <p>情感健康指数为${scores.healthIndex}%，表明您的关系模式需要关注和改进。</p>
                `;
                recommendation = `
                    <p>以下建议可以帮助您建立更健康的关系模式：</p>
                    <ul>
                        <li>尝试理解占有欲背后的深层需求和恐惧</li>
                        <li>练习给予伴侣更多信任和个人空间</li>
                        <li>培养独立于关系的自我价值和兴趣爱好</li>
                        <li>学习健康的沟通方式，表达需求而不控制</li>
                        <li>考虑与伴侣一起讨论彼此对个人空间的需求</li>
                        <li>寻求专业心理咨询帮助探索深层问题</li>
                        <li>练习正念冥想，增强情绪调节能力</li>
                        <li>建立健康的社会支持网络，分散情感依赖</li>
                    </ul>
                `;
            }
            
            return { level, overallInterpretation, recommendation };
        }
        
        // 生成各维度结果
        function generateDimensionResults(dimensionScores) {
            let html = '';
            
            Object.keys(dimensionScores).forEach(dimension => {
                const score = dimensionScores[dimension];
                const mean = score.mean.toFixed(2);
                let interpretation = '';
                
                if (score.mean < 2.0) {
                    interpretation = '健康';
                } else if (score.mean < 3.0) {
                    interpretation = '适中';
                } else if (score.mean < 4.0) {
                    interpretation = '关注';
                } else {
                    interpretation = '需要改善';
                }
                
                // 计算条形图宽度（最大5分对应100%）
                const barWidth = (score.mean / 5) * 100;
                
                html += `
                    <div class="dimension">
                        <div class="dimension-header">
                            <div class="dimension-name">${dimension}</div>
                            <div class="dimension-score">${mean}分 - ${interpretation}</div>
                        </div>
                        <div class="dimension-bar">
                            <div class="dimension-fill" style="width: ${barWidth}%"></div>
                        </div>
                    </div>
                `;
            });
            
            return html;
        }
        
        // 处理表单提交
        document.getElementById('possession-form').addEventListener('submit', function(e) {
            e.preventDefault();
            
            // 检查是否所有问题都已回答
            let allAnswered = true;
            questions.forEach((_, index) => {
                if (!document.querySelector(`input[name="question-${index}"]:checked`)) {
                    allAnswered = false;
                }
            });
            
            if (!allAnswered) {
                alert('请回答所有问题后再提交测试。');
                return;
            }
            
            // 计算分数
            const scores = calculateScores();
            
            // 获取结果解释
            const interpretation = getInterpretation(scores);
            
            // 显示结果
            document.getElementById('total-score').textContent = scores.totalScore;
            document.getElementById('score-level').textContent = interpretation.level;
            document.getElementById('health-index').textContent = `${scores.healthIndex}%`;
            document.getElementById('overall-interpretation').innerHTML = interpretation.overallInterpretation;
            document.getElementById('dimension-results').innerHTML = generateDimensionResults(scores.dimensionScores);
            document.getElementById('recommendation').innerHTML = interpretation.recommendation;
            document.getElementById('result-container').style.display = 'block';
            
            // 滚动到结果区域
            document.getElementById('result-container').scrollIntoView({ behavior: 'smooth' });
        });
        
        // 重置测试
        function resetTest() {
            document.getElementById('possession-form').reset();
            document.getElementById('result-container').style.display = 'none';
            updateProgress();
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
        
        // 初始化测试
        window.onload = initTest;
    </script>
</body>
</html>
