<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>çˆ±æƒ…å æœ‰æ¬²æµ‹è¯•ï¼ˆRPIï¼‰</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', 'Microsoft YaHei', sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #ffafbd 0%, #ffc3a0 100%);
            color: #333;
            line-height: 1.6;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .container {
            max-width: 900px;
            width: 100%;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 25px;
            box-shadow: 0 25px 50px rgba(255, 105, 180, 0.25);
            padding: 40px;
            position: relative;
            backdrop-filter: blur(10px);
            overflow: hidden;
        }
        
        .container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 8px;
            background: linear-gradient(90deg, #ff69b4, #ff1493, #ff69b4);
            background-size: 200% 100%;
            animation: shimmer 3s infinite linear;
        }
        
        @keyframes shimmer {
            0% { background-position: -200% 0; }
            100% { background-position: 200% 0; }
        }
        
        header {
            text-align: center;
            margin-bottom: 40px;
            padding-bottom: 30px;
            border-bottom: 2px solid rgba(255, 182, 193, 0.5);
            position: relative;
        }
        
        .heart-icon {
            font-size: 2.5rem;
            color: #ff69b4;
            margin-bottom: 15px;
            animation: heartbeat 1.5s infinite;
        }
        
        @keyframes heartbeat {
            0% { transform: scale(1); }
            5% { transform: scale(1.1); }
            10% { transform: scale(1); }
            15% { transform: scale(1.1); }
            20% { transform: scale(1); }
            100% { transform: scale(1); }
        }
        
        h1 {
            color: #ff69b4;
            margin-bottom: 15px;
            font-size: 2.8rem;
            font-weight: 700;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        .rip-badge {
            background: linear-gradient(135deg, #ff69b4, #ff1493);
            color: white;
            padding: 10px 25px;
            border-radius: 30px;
            font-size: 1.2rem;
            font-weight: 600;
            display: inline-block;
            margin-bottom: 15px;
            box-shadow: 0 6px 15px rgba(255, 105, 180, 0.4);
            position: relative;
            overflow: hidden;
        }
        
        .rip-badge::before {
            content: '';
            position: absolute;
            top: -10px;
            left: -10px;
            right: -10px;
            bottom: -10px;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.3), transparent);
            transform: rotate(45deg);
            transition: 0.5s;
            opacity: 0;
        }
        
        .rip-badge:hover::before {
            opacity: 1;
            left: 110%;
            transition: 0.5s;
        }
        
        .subtitle {
            color: #ff69b4;
            font-size: 1.2rem;
            font-style: italic;
            margin-bottom: 10px;
            font-weight: 500;
        }
        
        .disclaimer {
            background: #fff0f5;
            border-radius: 15px;
            padding: 18px;
            margin: 25px 0;
            font-size: 15px;
            color: #ff69b4;
            text-align: center;
            border: 1px dashed #ffb6c1;
            position: relative;
            box-shadow: 0 5px 15px rgba(255, 182, 193, 0.2);
        }
        
        .disclaimer::before {
            content: 'ğŸ’•';
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 1.5rem;
        }
        
        .progress-container {
            margin-bottom: 40px;
            background: rgba(255, 182, 193, 0.3);
            border-radius: 15px;
            height: 16px;
            overflow: hidden;
            box-shadow: inset 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #ff69b4, #ff1493);
            width: 0%;
            transition: width 0.8s ease;
            border-radius: 15px;
            position: relative;
            overflow: hidden;
        }
        
        .progress-bar::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            bottom: 0;
            right: 0;
            background-image: linear-gradient(
                -45deg, 
                rgba(255,255,255,0.2) 25%, 
                transparent 25%, 
                transparent 50%, 
                rgba(255,255,255,0.2) 50%, 
                rgba(255,255,255,0.2) 75%, 
                transparent 75%, 
                transparent
            );
            background-size: 50px 50px;
            animation: move 2s linear infinite;
            overflow: hidden;
        }
        
        @keyframes move {
            0% { background-position: 0 0; }
            100% { background-position: 50px 50px; }
        }
        
        .progress-text {
            text-align: center;
            font-size: 18px;
            color: #ff69b4;
            margin-bottom: 15px;
            font-weight: 600;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .progress-text i {
            margin-right: 10px;
            font-size: 1.2rem;
        }
        
        .questions-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 25px;
            margin-top: 30px;
            max-height: 600px;
            overflow-y: auto;
            padding: 15px;
            scrollbar-width: thin;
            scrollbar-color: #ff69b4 #ffe4e9;
        }
        
        .questions-grid::-webkit-scrollbar {
            width: 8px;
        }
        
        .questions-grid::-webkit-scrollbar-track {
            background: #ffe4e9;
            border-radius: 10px;
        }
        
        .questions-grid::-webkit-scrollbar-thumb {
            background: #ff69b4;
            border-radius: 10px;
        }
        
        .question-item {
            background: rgba(255, 250, 250, 0.9);
            padding: 25px;
            border-radius: 20px;
            box-shadow: 0 8px 20px rgba(255, 105, 180, 0.15);
            transition: all 0.4s ease;
            border-left: 6px solid transparent;
            position: relative;
            overflow: hidden;
        }
        
        .question-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(255,105,180,0.05), rgba(255,20,147,0.05));
            z-index: 0;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .question-item:hover::before {
            opacity: 1;
        }
        
        .question-item:hover {
            border-left-color: #ff69b4;
            transform: translateY(-5px);
            box-shadow: 0 12px 25px rgba(255, 105, 180, 0.2);
        }
        
        .question-item-title {
            font-weight: 600;
            margin-bottom: 20px;
            color: #ff69b4;
            font-size: 18px;
            line-height: 1.5;
            position: relative;
            z-index: 1;
        }
        
        .question-item-options {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        
        .question-item-option {
            padding: 15px 18px;
            background: white;
            border: 2px solid #ffe4e9;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 15px;
            display: flex;
            align-items: center;
            position: relative;
            overflow: hidden;
            z-index: 1;
        }
        
        .question-item-option:before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            height: 100%;
            width: 0;
            background: linear-gradient(90deg, rgba(255, 182, 193, 0.2), rgba(255, 105, 180, 0.2));
            transition: width 0.3s ease;
        }
        
        .question-item-option:hover:before {
            width: 100%;
        }
        
        .question-item-option:hover {
            border-color: #ff69b4;
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(255, 105, 180, 0.15);
        }
        
        .question-item-option.selected {
            border-color: #ff1493;
            background: linear-gradient(135deg, #ff69b415, #ff149315);
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(255, 20, 147, 0.2);
        }
        
        .question-item-option-letter {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 32px;
            height: 32px;
            background: #ffe4e9;
            border-radius: 50%;
            margin-right: 15px;
            font-weight: 700;
            font-size: 14px;
            transition: all 0.3s ease;
            z-index: 1;
        }
        
        .question-item-option.selected .question-item-option-letter {
            background: #ff1493;
            color: white;
            transform: scale(1.1);
        }
        
        .buttons {
            display: flex;
            justify-content: center;
            margin-top: 40px;
        }
        
        button {
            padding: 18px 45px;
            border: none;
            border-radius: 50px;
            font-size: 18px;
            cursor: pointer;
            transition: all 0.4s ease;
            font-weight: 600;
            background: linear-gradient(135deg, #ff69b4, #ff1493);
            color: white;
            box-shadow: 0 8px 20px rgba(255, 105, 180, 0.3);
            position: relative;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        button i {
            margin-right: 10px;
            font-size: 1.2rem;
        }
        
        button:before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: 0.5s;
        }
        
        button:hover:before {
            left: 100%;
        }
        
        button:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 25px rgba(255, 105, 180, 0.4);
        }
        
        button:disabled {
            background: #ffc0cb;
            transform: none;
            box-shadow: none;
            cursor: not-allowed;
        }
        
        button:disabled:before {
            display: none;
        }
        
        .result-container {
            text-align: center;
            padding: 50px 0;
            display: none;
        }
        
        .result-title {
            font-size: 36px;
            margin-bottom: 30px;
            color: #ff69b4;
            font-weight: 700;
            letter-spacing: 1px;
            position: relative;
            display: inline-block;
        }
        
        .result-title::after {
            content: '';
            position: absolute;
            bottom: -15px;
            left: 50%;
            transform: translateX(-50%);
            width: 150px;
            height: 5px;
            background: linear-gradient(90deg, #ff69b4, #ff1493);
            border-radius: 3px;
        }
        
        .score-container {
            background: white;
            border-radius: 20px;
            padding: 35px;
            margin: 30px auto;
            max-width: 700px;
            box-shadow: 0 15px 30px rgba(255, 105, 180, 0.15);
            position: relative;
            overflow: hidden;
        }
        
        .score-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 8px;
            background: linear-gradient(90deg, #ff69b4, #ff1493);
        }
        
        .score-title {
            font-size: 26px;
            color: #ff1493;
            margin-bottom: 25px;
            font-weight: 600;
        }
        
        .score-display {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 25px;
        }
        
        .score-value {
            font-size: 52px;
            font-weight: 700;
            color: #ff1493;
            margin-right: 20px;
            text-shadow: 2px 2px 4px rgba(255, 105, 180, 0.2);
        }
        
        .score-level {
            background: linear-gradient(135deg, #ff69b4, #ff1493);
            color: white;
            padding: 10px 25px;
            border-radius: 25px;
            font-weight: 600;
            font-size: 20px;
            box-shadow: 0 5px 15px rgba(255, 105, 180, 0.3);
        }
        
        .score-bar-container {
            margin: 30px 0;
        }
        
        .score-bar {
            height: 35px;
            background: #ffe4e9;
            border-radius: 18px;
            position: relative;
            overflow: hidden;
            margin-bottom: 15px;
            box-shadow: inset 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .score-bar-fill {
            height: 100%;
            background: linear-gradient(90deg, #ff69b4, #ff1493);
            border-radius: 18px;
            transition: width 1.5s ease;
            width: 0%;
            position: relative;
            overflow: hidden;
        }
        
        .score-bar-fill::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            bottom: 0;
            right: 0;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
            animation: shine 2s infinite;
        }
        
        @keyframes shine {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }
        
        .score-labels {
            display: flex;
            justify-content: space-between;
            margin-top: 15px;
            font-size: 15px;
            color: #ff69b4;
            font-weight: 600;
        }
        
        .score-explanation {
            font-size: 17px;
            color: #666;
            line-height: 1.6;
            margin-top: 25px;
            text-align: left;
            padding: 20px;
            background: #fff5f7;
            border-radius: 15px;
            border-left: 5px solid #ff69b4;
        }
        
        .dimensions-container {
            background: white;
            border-radius: 20px;
            padding: 35px;
            margin: 30px auto;
            max-width: 700px;
            box-shadow: 0 15px 30px rgba(255, 105, 180, 0.15);
            position: relative;
            overflow: hidden;
        }
        
        .dimensions-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 8px;
            background: linear-gradient(90deg, #ff69b4, #ff1493);
        }
        
        .dimensions-title {
            font-size: 26px;
            color: #ff1493;
            margin-bottom: 25px;
            font-weight: 600;
        }
        
        .dimension {
            margin-bottom: 30px;
            text-align: left;
        }
        
        .dimension-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .dimension-name {
            font-weight: 600;
            color: #ff69b4;
            font-size: 18px;
        }
        
        .dimension-score {
            font-weight: 700;
            color: #ff1493;
            font-size: 20px;
        }
        
        .dimension-bar {
            height: 14px;
            background: #ffe4e9;
            border-radius: 7px;
            overflow: hidden;
            margin-bottom: 12px;
            box-shadow: inset 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .dimension-fill {
            height: 100%;
            background: linear-gradient(90deg, #ff69b4, #ff1493);
            border-radius: 7px;
            transition: width 1.5s ease;
        }
        
        .dimension-desc {
            font-size: 15px;
            color: #666;
            line-height: 1.5;
        }
        
        .analysis-container {
            background: #fff0f5;
            border-radius: 20px;
            padding: 35px;
            margin: 30px auto;
            max-width: 700px;
            box-shadow: 0 15px 30px rgba(255, 105, 180, 0.15);
            text-align: left;
            position: relative;
            overflow: hidden;
        }
        
        .analysis-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 8px;
            background: linear-gradient(90deg, #ff69b4, #ff1493);
        }
        
        .analysis-title {
            font-size: 26px;
            color: #ff1493;
            margin-bottom: 25px;
            font-weight: 600;
            text-align: center;
        }
        
        .analysis-content {
            font-size: 17px;
            color: #666;
            line-height: 1.6;
        }
        
        .tips-container {
            background: #fff0f5;
            border-radius: 20px;
            padding: 35px;
            margin: 30px auto;
            max-width: 700px;
            box-shadow: 0 15px 30px rgba(255, 105, 180, 0.15);
            text-align: left;
            position: relative;
            overflow: hidden;
        }
        
        .tips-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 8px;
            background: linear-gradient(90deg, #ff69b4, #ff1493);
        }
        
        .tips-title {
            font-size: 26px;
            color: #ff1493;
            margin-bottom: 25px;
            font-weight: 600;
            text-align: center;
        }
        
        .tip-item {
            margin-bottom: 18px;
            padding-left: 30px;
            position: relative;
            font-size: 16px;
            line-height: 1.6;
        }
        
        .tip-item:before {
            content: 'ğŸ’–';
            position: absolute;
            left: 0;
            top: 0;
            font-size: 1.3rem;
        }
        
        .restart-btn {
            background: linear-gradient(135deg, #ff69b4, #ff1493);
            margin-top: 40px;
            padding: 18px 50px;
        }
        
        .love-note {
            text-align: center;
            margin-top: 40px;
            color: #ff69b4;
            font-size: 16px;
            font-style: italic;
            line-height: 1.6;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            padding: 20px;
            background: rgba(255, 182, 193, 0.1);
            border-radius: 15px;
            border: 1px dashed #ffb6c1;
        }
        
        .footer-note {
            text-align: center;
            margin-top: 30px;
            color: #ff69b4;
            font-size: 14px;
            font-style: italic;
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 25px 20px;
            }
            
            h1 {
                font-size: 2.2rem;
            }
            
            .score-value {
                font-size: 40px;
            }
            
            .score-level {
                font-size: 18px;
                padding: 8px 20px;
            }
            
            .dimension-header {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .dimension-score {
                margin-top: 5px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="heart-icon">
                <i class="fas fa-heart"></i>
            </div>
            <div class="rip-badge">çˆ±æƒ…å æœ‰æ¬²æµ‹è¯•ï¼ˆRPIï¼‰</div>
            <h1>äº†è§£ä½ çš„çˆ±æƒ…è¾¹ç•Œ</h1>
            <div class="disclaimer">
                æ¸©é¦¨æç¤ºï¼šæœ¬æµ‹è¯•ä¸ºå¨±ä¹æ€§è´¨ï¼Œç»“æœä»…ä¾›å‚è€ƒï¼Œè¯·å‹¿è¿‡åº¦è§£è¯»
            </div>
        </header>
        
        <div class="progress-text">
            <i class="fas fa-tasks"></i> å·²å®Œæˆ <span id="progress-text">0</span>/40 é¢˜
        </div>
        <div class="progress-container">
            <div class="progress-bar" id="progress-bar"></div>
        </div>
        
        <div id="test-container">
            <div class="questions-grid" id="questions-grid">
                <!-- é—®é¢˜å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
            </div>
            
            <div class="buttons">
                <button id="submit-btn">
                    <i class="fas fa-chart-pie"></i> æŸ¥çœ‹æˆ‘çš„çˆ±æƒ…å æœ‰æ¬²åˆ†æ
                </button>
            </div>
        </div>
        
        <div class="result-container" id="result-container">
            <div class="result-title">æµ‹è¯•ç»“æœ</div>
            
            <div class="score-container">
                <div class="score-title">æ€»ä½“å¾—åˆ†</div>
                
                <div class="score-display">
                    <div class="score-value" id="overall-score">0</div>
                    <div class="score-level" id="score-level">åä½</div>
                </div>
                
                <div class="score-bar-container">
                    <div class="score-bar">
                        <div class="score-bar-fill" id="score-bar-fill" style="width: 0%"></div>
                    </div>
                    <div class="score-labels">
                        <div>è‡ªç”±è‡ªåœ¨ (0-50)</div>
                        <div>æ°åˆ°å¥½å¤„ (50-80)</div>
                        <div>çˆ±åˆ°æè‡´ (80-100)</div>
                    </div>
                </div>
                
                <div class="score-explanation" id="score-explanation">
                    åˆ†æåŠ è½½ä¸­...
                </div>
            </div>
            
            <div class="dimensions-container">
                <div class="dimensions-title">å››ä¸ªç»´åº¦åˆ†æ</div>
                
                <div class="dimension">
                    <div class="dimension-header">
                        <div class="dimension-name">æ§åˆ¶æ¬²æœ›</div>
                        <div class="dimension-score" id="control-score">0åˆ†</div>
                    </div>
                    <div class="dimension-bar">
                        <div class="dimension-fill" id="control-bar" style="width: 0%"></div>
                    </div>
                    <div class="dimension-desc" id="control-desc">åˆ†æåŠ è½½ä¸­...</div>
                </div>
                
                <div class="dimension">
                    <div class="dimension-header">
                        <div class="dimension-name">å«‰å¦’å¼ºåº¦</div>
                        <div class="dimension-score" id="jealousy-score">0åˆ†</div>
                    </div>
                    <div class="dimension-bar">
                        <div class="dimension-fill" id="jealousy-bar" style="width: 0%"></div>
                    </div>
                    <div class="dimension-desc" id="jealousy-desc">åˆ†æåŠ è½½ä¸­...</div>
                </div>
                
                <div class="dimension">
                    <div class="dimension-header">
                        <div class="dimension-name">æƒ…æ„Ÿä¾èµ–</div>
                        <div class="dimension-score" id="dependency-score">0åˆ†</div>
                    </div>
                    <div class="dimension-bar">
                        <div class="dimension-fill" id="dependency-bar" style="width: 0%"></div>
                    </div>
                    <div class="dimension-desc" id="dependency-desc">åˆ†æåŠ è½½ä¸­...</div>
                </div>
                
                <div class="dimension">
                    <div class="dimension-header">
                        <div class="dimension-name">å…³ç³»å®‰å…¨</div>
                        <div class="dimension-score" id="security-score">0åˆ†</div>
                    </div>
                    <div class="dimension-bar">
                        <div class="dimension-fill" id="security-bar" style="width: 0%"></div>
                    </div>
                    <div class="dimension-desc" id="security-desc">åˆ†æåŠ è½½ä¸­...</div>
                </div>
            </div>
            
            <div class="analysis-container">
                <div class="analysis-title">æƒ…æ„Ÿåˆ†æ</div>
                <div class="analysis-content" id="analysis-content">
                    åˆ†æåŠ è½½ä¸­...
                </div>
            </div>
            
            <div class="tips-container">
                <div class="tips-title">ğŸ’• æ‹çˆ±å°è´´å£« ğŸ’•</div>
                <div id="tips-content">
                    <!-- æ‹çˆ±å°è´´å£«å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                </div>
            </div>
            
            <button class="restart-btn" id="restart-btn">
                <i class="fas fa-redo"></i> é‡æ–°æµ‹è¯•
            </button>
            
            <div class="love-note">
                <p>"å¥åº·çš„çˆ±æƒ…ä¸æ˜¯å æœ‰ï¼Œè€Œæ˜¯ä¸¤ä¸ªç‹¬ç«‹çµé­‚çš„ç›¸äº’æ¬£èµä¸é™ªä¼´"</p>
            </div>
            
            <div class="footer-note">
                <p>æœ¬æµ‹è¯•ç»“æœä»…ä¾›å¨±ä¹å‚è€ƒï¼Œè¯·å‹¿ä½œä¸ºä¸“ä¸šå¿ƒç†è¯„ä¼°ä¾æ®</p>
            </div>
        </div>
    </div>

    <script>
        // æµ‹è¯•é¢˜ç›® - çˆ±æƒ…å æœ‰æ¬²ç›¸å…³ (40é¢˜)
        const questions = [
            "å½“ä¼´ä¾£ä¸å¼‚æ€§æœ‹å‹å•ç‹¬ç›¸å¤„æ—¶ï¼Œä½ çš„æ„Ÿå—æ˜¯ï¼Ÿ",
            "ä½ ä¼šç»å¸¸æŸ¥çœ‹ä¼´ä¾£çš„æ‰‹æœºæˆ–ç¤¾äº¤åª’ä½“å—ï¼Ÿ",
            "å¦‚æœä¼´ä¾£æ²¡æœ‰åŠæ—¶å›å¤æ¶ˆæ¯ï¼Œä½ ä¼šï¼Ÿ",
            "ä½ å¸Œæœ›ä¼´ä¾£æŠŠå¤§éƒ¨åˆ†ç©ºé—²æ—¶é—´éƒ½ç•™ç»™ä½ å—ï¼Ÿ",
            "å½“ä¼´ä¾£èµç¾å…¶ä»–å¼‚æ€§æ—¶ï¼Œä½ çš„ååº”æ˜¯ï¼Ÿ",
            "ä½ ä¼šè¦æ±‚ä¼´ä¾£åˆ é™¤å¼‚æ€§æœ‹å‹çš„è”ç³»æ–¹å¼å—ï¼Ÿ",
            "ä½ èƒ½å¤Ÿæ¥å—ä¼´ä¾£æœ‰äº²å¯†çš„ç²¾ç¥çŸ¥å·±å—ï¼Ÿ",
            "å½“ä¼´ä¾£å‚åŠ æ²¡æœ‰ä½ çš„ç¤¾äº¤æ´»åŠ¨æ—¶ï¼Œä½ ä¼šï¼Ÿ",
            "ä½ ä¼šåœ¨ä¼´ä¾£é¢å‰é¢‘ç¹æåŠå‰ä»»æ¥æµ‹è¯•ååº”å—ï¼Ÿ",
            "ä½ å¸Œæœ›æŒæ¡ä¼´ä¾£çš„æ‰€æœ‰è¡Œè¸ªå’Œè®¡åˆ’å—ï¼Ÿ",
            "å½“ä¼´ä¾£ä¸åŒäº‹åŠ ç­åˆ°å¾ˆæ™šï¼Œä½ çš„æƒ³æ³•æ˜¯ï¼Ÿ",
            "ä½ ä¼šå› ä¸ºä¼´ä¾£å…³æ³¨å…¶ä»–å¼‚æ€§è€Œç”Ÿæ°”å—ï¼Ÿ",
            "ä½ èƒ½å¤Ÿæ¥å—ä¼´ä¾£æœ‰è‡ªå·±çš„éšç§ç©ºé—´å—ï¼Ÿ",
            "å½“ä¼´ä¾£å¿˜è®°é‡è¦çºªå¿µæ—¥ï¼Œä½ è®¤ä¸ºè¿™æ˜¯ï¼Ÿ",
            "ä½ ä¼šåœ¨å…³ç³»ä¸­ç»å¸¸æµ‹è¯•ä¼´ä¾£çš„å¿ è¯šåº¦å—ï¼Ÿ",
            "ä½ ä¼šå› ä¸ºä¼´ä¾£ä¸å¼‚æ€§èŠå¤©è€Œåƒé†‹å—ï¼Ÿ",
            "ä½ å¸Œæœ›ä¼´ä¾£æŠŠæ‰€æœ‰å¯†ç éƒ½å‘Šè¯‰ä½ å—ï¼Ÿ",
            "å½“ä¼´ä¾£ä¸æœ‹å‹å‡ºå»ç©æ—¶ï¼Œä½ ä¼šï¼Ÿ",
            "ä½ ä¼šæ£€æŸ¥ä¼´ä¾£çš„é€šè®¯è®°å½•å—ï¼Ÿ",
            "ä½ èƒ½å¤Ÿæ¥å—ä¼´ä¾£æœ‰å¼‚æ€§é—ºèœœ/å…„å¼Ÿå—ï¼Ÿ",
            "å½“ä¼´ä¾£æ”¶åˆ°å¼‚æ€§ç¤¼ç‰©æ—¶ï¼Œä½ çš„ååº”æ˜¯ï¼Ÿ",
            "ä½ ä¼šå¹²æ¶‰ä¼´ä¾£çš„ç©¿è¡£æ‰“æ‰®å—ï¼Ÿ",
            "ä½ å¸Œæœ›ä¼´ä¾£äº‹äº‹éƒ½å‘ä½ æ±‡æŠ¥å—ï¼Ÿ",
            "å½“ä¼´ä¾£ä¸å¼‚æ€§åŒäº‹å‡ºå·®ï¼Œä½ ä¼šï¼Ÿ",
            "ä½ ä¼šå› ä¸ºä¼´ä¾£çš„è¿‡å»è€Œè€¿è€¿äºæ€€å—ï¼Ÿ",
            "ä½ èƒ½å¤Ÿæ¥å—ä¼´ä¾£æœ‰è‡ªå·±çš„ç¤¾äº¤åœˆå—ï¼Ÿ",
            "å½“ä¼´ä¾£å…³æ³¨ç½‘çº¢åšä¸»æ—¶ï¼Œä½ ä¼šï¼Ÿ",
            "ä½ ä¼šè¦æ±‚ä¼´ä¾£å‡å°‘ä¸æœ‹å‹çš„è”ç³»å—ï¼Ÿ",
            "ä½ å¸Œæœ›ä¼´ä¾£æŠŠä½ æ”¾åœ¨ç¬¬ä¸€ä½å—ï¼Ÿ",
            "å½“ä¼´ä¾£ä¸å¼‚æ€§æœ‰å·¥ä½œå¾€æ¥ï¼Œä½ ä¼šï¼Ÿ",
            "ä½ ä¼šå› ä¸ºå°äº‹æ€€ç–‘ä¼´ä¾£çš„å¿ è¯šå—ï¼Ÿ",
            "ä½ èƒ½å¤Ÿæ¥å—ä¼´ä¾£æœ‰è‡ªå·±çš„å…´è¶£çˆ±å¥½å—ï¼Ÿ",
            "å½“ä¼´ä¾£ä¸å¼‚æ€§æœ‹å‹ä¿æŒè”ç³»ï¼Œä½ ä¼šï¼Ÿ",
            "ä½ ä¼šè¦æ±‚ä¼´ä¾£æ”¹å˜ä¹ æƒ¯æ¥è¿åˆä½ å—ï¼Ÿ",
            "ä½ å¸Œæœ›ä¼´ä¾£å®Œå…¨æŒ‰ç…§ä½ çš„æœŸæœ›è¡Œäº‹å—ï¼Ÿ",
            "å½“ä¼´ä¾£ä¸å¼‚æ€§æœ‰è¯´æœ‰ç¬‘ï¼Œä½ ä¼šï¼Ÿ",
            "ä½ ä¼šé™åˆ¶ä¼´ä¾£çš„ç¤¾äº¤æ´»åŠ¨å—ï¼Ÿ",
            "ä½ èƒ½å¤Ÿæ¥å—ä¼´ä¾£æœ‰ä¸ªäººç©ºé—´å—ï¼Ÿ",
            "å½“ä¼´ä¾£ä¸æ¥ç”µè¯æ—¶ï¼Œä½ ä¼šï¼Ÿ",
            "ä½ ä¼šå› ä¸ºå æœ‰æ¬²è€Œå½±å“æ—¥å¸¸ç”Ÿæ´»å—ï¼Ÿ"
        ];

        // é€‰é¡¹
        const options = [
            ["å®Œå…¨ä¿¡ä»»ï¼Œæ¯«ä¸æ‹…å¿ƒ", "ç¨æœ‰ä¸å®‰ä½†èƒ½ç†è§£", "ä¼šæœ‰ç‚¹ä»‹æ„å¹¶è¯¢é—®", "éå¸¸ä¸å®‰ï¼Œä¼šèƒ¡æ€ä¹±æƒ³"],
            ["ä»ä¸ï¼Œå°Šé‡å¯¹æ–¹éšç§", "å¶å°”ï¼Œå‡ºäºå¥½å¥‡", "ç»å¸¸ï¼Œä¸ºäº†å®‰å¿ƒ", "æ€»æ˜¯ï¼Œè®¤ä¸ºè¿™æ˜¯åº”è¯¥çš„"],
            ["ç†è§£å¯¹æ–¹å¯èƒ½å¾ˆå¿™", "ç¨ç­‰ä¸€ä¼šå†è”ç³»", "è¿ç»­å‘æ¶ˆæ¯è¯¢é—®", "ç«‹å³æ‰“ç”µè¯ç¡®è®¤"],
            ["ä¸ï¼Œå„è‡ªéƒ½éœ€è¦ç‹¬ç«‹ç©ºé—´", "å¸Œæœ›ä½†ä¸ä¼šå¼ºæ±‚", "æ˜¯çš„ï¼Œè¿™æ˜¯ç›¸çˆ±çš„è¡¨ç°", "å¿…é¡»çš„ï¼Œå¦åˆ™å°±æ˜¯ä¸çˆ±æˆ‘"],
            ["ä¸€èµ·æ¬£èµï¼Œæ¯«ä¸ä»‹æ„", "ç¨æœ‰ä¸æ‚¦ä½†ä¸ä¼šè¡¨ç°", "æ˜ç¡®è¡¨è¾¾ä¸æ»¡", "éå¸¸ç”Ÿæ°”ï¼Œä¼šäº‰åµ"],
            ["ä»ä¸ï¼Œè¿™æ˜¯ä¸å°Šé‡", "ç‰¹æ®Šæƒ…å†µå¯èƒ½ä¼š", "ä¼šæš—ç¤ºå¯¹æ–¹è¿™æ ·åš", "ç›´æ¥è¦æ±‚ï¼Œå¦åˆ™ä¸å¼€å¿ƒ"],
            ["å®Œå…¨å¯ä»¥ï¼Œä¿¡ä»»æœ€é‡è¦", "èƒ½æ¥å—ä½†è¦çŸ¥æƒ…", "æœ‰ç‚¹ä»‹æ„ï¼Œéœ€è¦ç•Œé™", "ç»å¯¹ä¸èƒ½æ¥å—"],
            ["å®Œå…¨æ”¯æŒï¼Œäº«å—ç‹¬å¤„æ—¶é—´", "ç†è§£ä½†ä¼šæƒ³å¿µ", "ä¼šä¸åœè”ç³»ç¡®è®¤æƒ…å†µ", "åå¯¹ï¼Œè¦æ±‚å¸¦æˆ‘ä¸€èµ·"],
            ["ä»ä¸ï¼Œè¿™å¾ˆå¹¼ç¨š", "æå°‘æ•°æƒ…å†µä¸‹ä¼š", "å¶å°”ä¼šè¯•æ¢ä¸€ä¸‹", "ç»å¸¸ï¼Œéœ€è¦ç¡®è®¤çœŸå¿ƒ"],
            ["ä¸ï¼Œæ¯ä¸ªäººéƒ½éœ€è¦è‡ªç”±", "å¸Œæœ›ä½†ä¸ä¼šå¼ºåˆ¶", "æ˜¯çš„ï¼Œè¿™æ˜¯å…³å¿ƒ", "å¿…é¡»éšæ—¶æŠ¥å¤‡è¡Œè¸ª"],
            ["å·¥ä½œéœ€æ±‚ï¼Œå®Œå…¨ç†è§£", "ç†è§£ä½†ä¼šæœ‰ç‚¹æ‹…å¿ƒ", "ä¼šè¯¢é—®å…·ä½“ç»†èŠ‚", "æ€€ç–‘æ˜¯å¦æœ‰å…¶ä»–åŸå› "],
            ["å®Œå…¨ä¸ä¼šï¼Œè¿™å¾ˆæ­£å¸¸", "å¶å°”ä¼šæœ‰ç‚¹å°åƒé†‹", "ä¼šä¸å¼€å¿ƒå¹¶è¡¨è¾¾å‡ºæ¥", "éå¸¸ä»‹æ„ï¼Œä¼šå‘è„¾æ°”"],
            ["å®Œå…¨å¯ä»¥ï¼Œè¿™æ˜¯åŸºæœ¬æƒåˆ©", "å¤§éƒ¨åˆ†å¯ä»¥ï¼Œä½†æœ‰ç•Œé™", "å¸Œæœ›é€æ˜ï¼Œå°‘äº›éšç§", "ä¸åº”è¯¥æœ‰éšç§ï¼Œè¦å®Œå…¨å¦è¯š"],
            ["å°äº‹ï¼Œä¸å¿…åœ¨æ„", "æœ‰ç‚¹å¤±æœ›ä½†èƒ½ç†è§£", "å¾ˆä¼¤å¿ƒï¼Œè§‰å¾—ä¸è¢«é‡è§†", "è®¤ä¸ºæ˜¯ä¸çˆ±çš„è¡¨ç°"],
            ["ä»ä¸ï¼Œä¿¡ä»»æ˜¯åŸºç¡€", "æå°‘æ•°ç¼ºä¹å®‰å…¨æ„Ÿæ—¶", "å¶å°”ä¼šæµ‹è¯•ä¸€ä¸‹", "ç»å¸¸ï¼Œéœ€è¦æŒç»­ç¡®è®¤"],
            ["å®Œå…¨ä¸ä¼šï¼Œå¾ˆæ­£å¸¸", "å¶å°”ä¼šæœ‰ç‚¹åœ¨æ„", "ä¼šè¯¢é—®èŠå¤©å†…å®¹", "éå¸¸ä»‹æ„ï¼Œè¦æ±‚åœæ­¢"],
            ["ä¸ï¼Œå°Šé‡ä¸ªäººéšç§", "å¸Œæœ›ä½†ä¸ä¼šè¦æ±‚", "æ˜¯çš„ï¼Œè¿™æ˜¯ä¿¡ä»»çš„è¡¨ç°", "å¿…é¡»çš„ï¼Œå¦åˆ™å°±æ˜¯ä¸å¦è¯š"],
            ["å®Œå…¨æ”¯æŒï¼Œæœ‰è‡ªå·±çš„ç”Ÿæ´»", "ç†è§£ä½†å¸Œæœ›æ—©ç‚¹å›æ¥", "ä¼šé¢‘ç¹è”ç³»ç¡®è®¤", "ä¸å¤ªæ„¿æ„ï¼Œå¸Œæœ›é™ªæˆ‘"],
            ["ä»ä¸ï¼Œä¿¡ä»»æœ€é‡è¦", "æå°‘æ•°æƒ…å†µä¸‹ä¼š", "å¶å°”ä¼šæŸ¥çœ‹", "ç»å¸¸æ£€æŸ¥ï¼Œä¸ºäº†å®‰å¿ƒ"],
            ["å®Œå…¨å¯ä»¥ï¼Œå‹è°Šå¾ˆé‡è¦", "èƒ½æ¥å—ä½†è¦æœ‰é™åº¦", "æœ‰ç‚¹ä»‹æ„ï¼Œéœ€è¦ä¿æŒè·ç¦»", "ç»å¯¹ä¸èƒ½æ¥å—"],
            ["ç†è§£ï¼Œæ­£å¸¸ç¤¾äº¤", "ç¨æœ‰ä¸æ‚¦ä½†èƒ½æ¥å—", "ä¼šè¯¢é—®ç¤¼ç‰©æ¥æº", "éå¸¸ä»‹æ„ï¼Œè¦æ±‚é€€å›"],
            ["ä¸ï¼Œå°Šé‡ä¸ªäººé£æ ¼", "å¶å°”ä¼šç»™å»ºè®®", "ä¼šè¡¨è¾¾è‡ªå·±çš„åå¥½", "å¿…é¡»æŒ‰ç…§æˆ‘çš„è¦æ±‚"],
            ["ä¸ï¼Œå„è‡ªç‹¬ç«‹", "å¸Œæœ›ä½†ä¸ä¼šå¼ºæ±‚", "æ˜¯çš„ï¼Œè¿™æ˜¯å…³å¿ƒ", "å¿…é¡»äº‹äº‹æ±‡æŠ¥"],
            ["å·¥ä½œéœ€æ±‚ï¼Œå®Œå…¨ç†è§£", "ç†è§£ä½†ä¼šæ‹…å¿ƒ", "ä¼šé¢‘ç¹è”ç³»ç¡®è®¤", "åå¯¹ï¼Œè¦æ±‚æ¢äºº"],
            ["ä¸ä¼šï¼Œè¿‡å»ä¸é‡è¦", "å¶å°”ä¼šæƒ³åˆ°ä½†ä¸åœ¨æ„", "ä¼šæœ‰ç‚¹åœ¨æ„", "ç»å¸¸æƒ³èµ·ï¼Œéš¾ä»¥é‡Šæ€€"],
            ["å®Œå…¨å¯ä»¥ï¼Œç¤¾äº¤å¾ˆé‡è¦", "èƒ½æ¥å—ä½†è¦çŸ¥æƒ…", "å¸Œæœ›ä»¥æˆ‘ä¸ºä¸»", "ä¸å¤ªèƒ½æ¥å—"],
            ["å®Œå…¨ç†è§£ï¼Œä¸ªäººå…´è¶£", "ç¨æœ‰ä¸æ‚¦ä½†èƒ½æ¥å—", "ä¼šè¯¢é—®å…³æ³¨åŸå› ", "éå¸¸ä»‹æ„ï¼Œè¦æ±‚å–æ¶ˆå…³æ³¨"],
            ["ä¸ï¼Œå‹è°Šå¾ˆé‡è¦", "å¸Œæœ›ä½†ä¸ä¼šè¦æ±‚", "ä¼šæš—ç¤ºå‡å°‘è”ç³»", "è¦æ±‚ä»¥æˆ‘ä¸ºä¸­å¿ƒ"],
            ["ä¸ï¼Œå½¼æ­¤å¹³ç­‰", "å¸Œæœ›ä½†ç†è§£æœ‰ä¾‹å¤–", "æ˜¯çš„ï¼Œè¿™æ˜¯çˆ±çš„è¡¨ç°", "å¿…é¡»æŠŠæˆ‘æ”¾åœ¨ç¬¬ä¸€ä½"],
            ["å·¥ä½œéœ€æ±‚ï¼Œå®Œå…¨ç†è§£", "ç†è§£ä½†ä¼šæœ‰ç‚¹æ‹…å¿ƒ", "ä¼šè¯¢é—®å·¥ä½œç»†èŠ‚", "éå¸¸ä»‹æ„ï¼Œè¦æ±‚é¿å…"],
            ["ä»ä¸ï¼Œä¿¡ä»»ä¼´ä¾£", "æå°‘æ•°æƒ…å†µä¸‹ä¼š", "å¶å°”ä¼šæ€€ç–‘", "ç»å¸¸æ€€ç–‘ï¼Œéœ€è¦ç¡®è®¤"],
            ["å®Œå…¨å¯ä»¥ï¼Œæ”¯æŒå‘å±•", "èƒ½æ¥å—ä½†è¦é€‚åº¦", "å¸Œæœ›ä»¥å…±åŒå…´è¶£ä¸ºä¸»", "ä¸å¤ªæ”¯æŒï¼Œå¸Œæœ›é™ªæˆ‘"],
            ["ç†è§£ï¼Œæ­£å¸¸å‹è°Š", "èƒ½æ¥å—ä½†è¦çŸ¥æƒ…", "ä¼šè¦æ±‚ä¿æŒè·ç¦»", "åå¯¹ï¼Œè¦æ±‚æ–­ç»è”ç³»"],
            ["ä¸ï¼Œå°Šé‡ä¸ªäººä¹ æƒ¯", "å¶å°”ä¼šæå»ºè®®", "ä¼šè¦æ±‚æ”¹å˜", "å¿…é¡»æŒ‰ç…§æˆ‘çš„æ–¹å¼"],
            ["ä¸ï¼Œå°Šé‡ç‹¬ç«‹æ€§", "å¸Œæœ›ä½†ç†è§£æœ‰å·®å¼‚", "æ˜¯çš„ï¼Œè¿™æ˜¯å…³å¿ƒ", "å¿…é¡»å®Œå…¨ç¬¦åˆæœŸæœ›"],
            ["ç†è§£ï¼Œæ­£å¸¸äº¤æµ", "ç¨æœ‰ä¸æ‚¦ä½†èƒ½æ¥å—", "ä¼šè¡¨è¾¾ä¸æ»¡", "éå¸¸ç”Ÿæ°”ï¼Œä¼šå¹²æ¶‰"],
            ["ä¸ï¼Œæ”¯æŒç¤¾äº¤è‡ªç”±", "å¸Œæœ›é€‚åº¦å‡å°‘", "ä¼šé™åˆ¶æŸäº›æ´»åŠ¨", "ä¸¥æ ¼é™åˆ¶ç¤¾äº¤"],
            ["å®Œå…¨å¯ä»¥ï¼Œéœ€è¦ä¸ªäººç©ºé—´", "èƒ½æ¥å—ä½†è¦æœ‰é™åº¦", "å¸Œæœ›å°½é‡å‡å°‘", "ä¸å¤ªèƒ½æ¥å—"],
            ["ç†è§£ï¼Œå¯èƒ½æœ‰äº‹", "ç¨ç­‰å†è”ç³»", "ä¼šè¿ç»­æ‰“ç”µè¯", "éå¸¸ç„¦è™‘ï¼Œåˆ°å¤„å¯»æ‰¾"],
            ["ä»ä¸ä¼šå½±å“", "å¶å°”ä¼šå½±å“æƒ…ç»ª", "ç»å¸¸ä¼šå½±å“å¿ƒæƒ…", "ä¸¥é‡å½±å“ç”Ÿæ´»å’Œå…³ç³»"]
        ];

        // åˆå§‹åŒ–å˜é‡
        let answers = new Array(questions.length).fill(null);
        
        // å››ä¸ªç»´åº¦çš„å¾—åˆ†ï¼ˆæ¯ä¸ªé€‰é¡¹å¯¹åº”0-3åˆ†ï¼Œåˆ†æ•°è¶Šé«˜è¡¨ç¤ºè¯¥ç»´åº¦è¶Šå¼ºï¼‰
        let controlScore = 0;      // æ§åˆ¶æ¬²æœ›
        let jealousyScore = 0;     // å«‰å¦’å¼ºåº¦  
        let dependencyScore = 0;   // æƒ…æ„Ÿä¾èµ–
        let securityScore = 0;     // å…³ç³»å®‰å…¨ï¼ˆåå‘è®¡åˆ†ï¼‰

        // DOMå…ƒç´ 
        const questionsGrid = document.getElementById('questions-grid');
        const submitBtn = document.getElementById('submit-btn');
        const progressBar = document.getElementById('progress-bar');
        const progressText = document.getElementById('progress-text');
        const testContainer = document.getElementById('test-container');
        const resultContainer = document.getElementById('result-container');
        const restartBtn = document.getElementById('restart-btn');

        // ç»“æœæ˜¾ç¤ºå…ƒç´ 
        const overallScoreEl = document.getElementById('overall-score');
        const scoreLevelEl = document.getElementById('score-level');
        const scoreBarFillEl = document.getElementById('score-bar-fill');
        const scoreExplanationEl = document.getElementById('score-explanation');
        
        const controlScoreEl = document.getElementById('control-score');
        const controlBarEl = document.getElementById('control-bar');
        const controlDescEl = document.getElementById('control-desc');
        
        const jealousyScoreEl = document.getElementById('jealousy-score');
        const jealousyBarEl = document.getElementById('jealousy-bar');
        const jealousyDescEl = document.getElementById('jealousy-desc');
        
        const dependencyScoreEl = document.getElementById('dependency-score');
        const dependencyBarEl = document.getElementById('dependency-bar');
        const dependencyDescEl = document.getElementById('dependency-desc');
        
        const securityScoreEl = document.getElementById('security-score');
        const securityBarEl = document.getElementById('security-bar');
        const securityDescEl = document.getElementById('security-desc');
        
        const analysisContentEl = document.getElementById('analysis-content');
        const tipsContentEl = document.getElementById('tips-content');

        // æ˜¾ç¤ºæ‰€æœ‰é—®é¢˜
        function showAllQuestions() {
            questionsGrid.innerHTML = '';
            
            questions.forEach((question, index) => {
                const questionItem = document.createElement('div');
                questionItem.className = 'question-item';
                
                const questionTitle = document.createElement('div');
                questionTitle.className = 'question-item-title';
                questionTitle.textContent = `${index + 1}. ${question}`;
                
                const questionOptions = document.createElement('div');
                questionOptions.className = 'question-item-options';
                
                options[index].forEach((option, optionIndex) => {
                    const optionElement = document.createElement('div');
                    optionElement.className = 'question-item-option';
                    if (answers[index] === optionIndex) {
                        optionElement.classList.add('selected');
                    }
                    
                    const optionLetter = document.createElement('span');
                    optionLetter.className = 'question-item-option-letter';
                    optionLetter.textContent = String.fromCharCode(65 + optionIndex);
                    
                    const optionText = document.createElement('span');
                    optionText.textContent = option;
                    
                    optionElement.appendChild(optionLetter);
                    optionElement.appendChild(optionText);
                    optionElement.addEventListener('click', () => selectOption(index, optionIndex));
                    questionOptions.appendChild(optionElement);
                });
                
                questionItem.appendChild(questionTitle);
                questionItem.appendChild(questionOptions);
                questionsGrid.appendChild(questionItem);
            });
            
            updateProgress();
        }

        // é€‰æ‹©é€‰é¡¹
        function selectOption(questionIndex, optionIndex) {
            answers[questionIndex] = optionIndex;
            
            // æ›´æ–°é€‰é¡¹æ ·å¼
            const allOptions = document.querySelectorAll(`.question-item:nth-child(${questionIndex + 1}) .question-item-option`);
            allOptions.forEach((option, index) => {
                if (index === optionIndex) {
                    option.classList.add('selected');
                } else {
                    option.classList.remove('selected');
                }
            });
            
            updateProgress();
        }

        // æ›´æ–°è¿›åº¦
        function updateProgress() {
            const answeredCount = answers.filter(answer => answer !== null).length;
            const progress = (answeredCount / questions.length) * 100;
            progressBar.style.width = `${progress}%`;
            progressText.textContent = answeredCount;
            
            // å¦‚æœæ‰€æœ‰é—®é¢˜éƒ½å·²å›ç­”ï¼Œå¯ç”¨æäº¤æŒ‰é’®
            submitBtn.disabled = answeredCount < questions.length;
        }

        // è®¡ç®—å„ç»´åº¦å¾—åˆ†
        function calculateScores() {
            // é‡ç½®åˆ†æ•°
            controlScore = 0;
            jealousyScore = 0;
            dependencyScore = 0;
            securityScore = 0;
            
            // æ ¹æ®ç­”æ¡ˆè®¡ç®—å„ç»´åº¦å¾—åˆ†
            answers.forEach((answer, index) => {
                const score = answer; // 0-3åˆ†
                
                // æ§åˆ¶æ¬²æœ›ç»´åº¦
                if ([0, 1, 3, 5, 6, 8, 9, 10, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39].includes(index)) {
                    controlScore += score;
                }
                // å«‰å¦’å¼ºåº¦ç»´åº¦
                if ([4, 7, 11, 14, 25, 26, 27, 28].includes(index)) {
                    jealousyScore += score;
                }
                // æƒ…æ„Ÿä¾èµ–ç»´åº¦
                if ([2, 12, 13].includes(index)) {
                    dependencyScore += score;
                }
                // å…³ç³»å®‰å…¨ç»´åº¦ï¼ˆåå‘è®¡åˆ†ï¼‰
                if ([0, 6, 12, 19, 25, 31, 37].includes(index)) {
                    securityScore += (3 - score); // åå‘è®¡åˆ†
                }
            });
            
            // è½¬æ¢ä¸ºç™¾åˆ†æ¯”ï¼ˆæœ€å¤§å¯èƒ½å¾—åˆ†ï¼‰
            controlScore = Math.round((controlScore / (29*3)) * 100);
            jealousyScore = Math.round((jealousyScore / (8*3)) * 100);
            dependencyScore = Math.round((dependencyScore / (3*3)) * 100);
            securityScore = Math.round((securityScore / (7*3)) * 100);
            
            // ç¡®ä¿åˆ†æ•°åœ¨0-100èŒƒå›´å†…
            controlScore = Math.min(100, Math.max(0, controlScore));
            jealousyScore = Math.min(100, Math.max(0, jealousyScore));
            dependencyScore = Math.min(100, Math.max(0, dependencyScore));
            securityScore = Math.min(100, Math.max(0, securityScore));
        }

        // ç”Ÿæˆç»´åº¦æè¿°
        function generateDimensionDesc(score, dimension) {
            if (score <= 25) {
                return dimension === 'security' ? 
                    "ä½ å¯¹å…³ç³»æœ‰å¾ˆå¼ºçš„å®‰å…¨æ„Ÿï¼Œä¿¡ä»»ä¼´ä¾£ï¼Œä¸è½»æ˜“æ€€ç–‘" :
                    `ä½ çš„${getDimensionName(dimension)}å¾ˆä½ï¼Œåœ¨å…³ç³»ä¸­ä¿æŒç†æ€§ä¸ç‹¬ç«‹`;
            } else if (score <= 50) {
                return dimension === 'security' ?
                    "ä½ å¯¹å…³ç³»æœ‰åŸºæœ¬çš„å®‰å…¨æ„Ÿï¼Œå¶å°”ä¼šæœ‰å°æ‹…å¿§ä½†èƒ½è‡ªæˆ‘è°ƒèŠ‚" :
                    `ä½ çš„${getDimensionName(dimension)}é€‚ä¸­ï¼Œåœ¨å…³å¿ƒä¸å°Šé‡é—´æ‰¾åˆ°å¹³è¡¡`;
            } else if (score <= 75) {
                return dimension === 'security' ?
                    "ä½ å¯¹å…³ç³»å®‰å…¨æ„Ÿè¾ƒä½ï¼Œå®¹æ˜“ç„¦è™‘å’Œæ€€ç–‘ï¼Œéœ€è¦æ›´å¤š reassurance" :
                    `ä½ çš„${getDimensionName(dimension)}è¾ƒé«˜ï¼Œéœ€è¦æ³¨æ„ç»™ä¼´ä¾£é€‚å½“ç©ºé—´`;
            } else {
                return dimension === 'security' ?
                    "ä½ å¯¹å…³ç³»æåº¦ç¼ºä¹å®‰å…¨æ„Ÿï¼Œå®¹æ˜“é™·å…¥ç„¦è™‘å’Œæ€€ç–‘çš„å¾ªç¯" :
                    `ä½ çš„${getDimensionName(dimension)}å¾ˆå¼ºï¼Œå¯èƒ½å½±å“å…³ç³»çš„å¥åº·å‘å±•`;
            }
        }

        function getDimensionName(dimension) {
            const names = {
                'control': 'æ§åˆ¶æ¬²æœ›',
                'jealousy': 'å«‰å¦’å¿ƒç†', 
                'dependency': 'æƒ…æ„Ÿä¾èµ–',
                'security': 'å…³ç³»å®‰å…¨æ„Ÿ'
            };
            return names[dimension];
        }

        // ç”Ÿæˆæƒ…æ„Ÿåˆ†æ
        function generateAnalysis() {
            let analysis = "";
            
            // æ§åˆ¶æ¬²æœ›åˆ†æ
            if (controlScore <= 25) {
                analysis += "ä½ åœ¨å…³ç³»ä¸­ç»™äºˆä¼´ä¾£å……åˆ†çš„è‡ªç”±å’Œç©ºé—´ï¼Œå°Šé‡å¯¹æ–¹çš„ç‹¬ç«‹æ€§ã€‚";
            } else if (controlScore <= 50) {
                analysis += "ä½ å¯¹ä¼´ä¾£æœ‰ä¸€å®šçš„å…³å¿ƒå’Œå…³æ³¨ï¼Œä½†ä¸ä¼šè¿‡åº¦å¹²æ¶‰å¯¹æ–¹çš„ä¸ªäººç©ºé—´ã€‚";
            } else if (controlScore <= 75) {
                analysis += "ä½ å€¾å‘äºåœ¨å…³ç³»ä¸­æŒæ¡æ›´å¤šä¸»å¯¼æƒï¼Œéœ€è¦æ³¨æ„é¿å…è¿‡åº¦æ§åˆ¶ã€‚";
            } else {
                analysis += "ä½ çš„æ§åˆ¶æ¬²æœ›è¾ƒå¼ºï¼Œå¯èƒ½ä¼šè®©ä¼´ä¾£æ„Ÿåˆ°æŸç¼šå’Œå‹åŠ›ã€‚";
            }
            
            analysis += " ";
            
            // å«‰å¦’å¼ºåº¦åˆ†æ
            if (jealousyScore <= 25) {
                analysis += "ä½ å¾ˆå°‘äº§ç”Ÿå«‰å¦’æƒ…ç»ªï¼Œèƒ½å¤Ÿç†æ€§çœ‹å¾…ä¼´ä¾£ä¸å…¶ä»–äººçš„æ­£å¸¸äº¤å¾€ã€‚";
            } else if (jealousyScore <= 50) {
                analysis += "ä½ å¶å°”ä¼šæœ‰è½»å¾®çš„å«‰å¦’æ„Ÿï¼Œä½†èƒ½å¤Ÿé€šè¿‡æ²Ÿé€šå’Œè‡ªæˆ‘è°ƒèŠ‚æ¥å¤„ç†ã€‚";
            } else if (jealousyScore <= 75) {
                analysis += "ä½ çš„å«‰å¦’å¿ƒè¾ƒå¼ºï¼Œå®¹æ˜“å› ä¼´ä¾£ä¸ä»–äººçš„äº’åŠ¨è€Œäº§ç”Ÿä¸å®‰ã€‚";
            } else {
                analysis += "ä½ çš„å«‰å¦’æƒ…ç»ªè¾ƒä¸ºå¼ºçƒˆï¼Œå¯èƒ½ä¼šå½±å“å…³ç³»çš„ç¨³å®šå’Œä¿¡ä»»åŸºç¡€ã€‚";
            }
            
            analysis += " ";
            
            // æƒ…æ„Ÿä¾èµ–åˆ†æ
            if (dependencyScore <= 25) {
                analysis += "ä½ åœ¨æƒ…æ„Ÿä¸Šç›¸å¯¹ç‹¬ç«‹ï¼Œä¸ä¼šè¿‡åº¦ä¾èµ–ä¼´ä¾£æ¥è·å¾—è‡ªæˆ‘ä»·å€¼æ„Ÿã€‚";
            } else if (dependencyScore <= 50) {
                analysis += "ä½ å¯¹ä¼´ä¾£æœ‰ä¸€å®šç¨‹åº¦çš„ä¾èµ–ï¼Œä½†ä¿æŒç€å¥åº·çš„ä¸ªäººè¾¹ç•Œã€‚";
            } else if (dependencyScore <= 75) {
                analysis += "ä½ å¯¹ä¼´ä¾£çš„æƒ…æ„Ÿä¾èµ–è¾ƒå¼ºï¼Œå¯èƒ½ä¼šå› ä¸ºå¯¹æ–¹çš„è¨€è¡Œè€Œæƒ…ç»ªæ³¢åŠ¨ã€‚";
            } else {
                analysis += "ä½ çš„æƒ…æ„Ÿä¾èµ–ç¨‹åº¦å¾ˆé«˜ï¼Œå®¹æ˜“å› å…³ç³»å˜åŒ–è€Œäº§ç”Ÿå¼ºçƒˆçš„ä¸å®‰å…¨æ„Ÿã€‚";
            }
            
            analysis += " ";
            
            // å…³ç³»å®‰å…¨åˆ†æ
            if (securityScore <= 25) {
                analysis += "ä½ å¯¹å…³ç³»ç¼ºä¹è¶³å¤Ÿçš„å®‰å…¨æ„Ÿï¼Œå®¹æ˜“äº§ç”Ÿæ€€ç–‘å’Œç„¦è™‘æƒ…ç»ªã€‚";
            } else if (securityScore <= 50) {
                analysis += "ä½ å¯¹å…³ç³»æœ‰åŸºæœ¬çš„å®‰å…¨æ„Ÿï¼Œä½†å¶å°”ä¼šå› ä¸ºå°äº‹è€Œäº§ç”Ÿæ‹…å¿§ã€‚";
            } else if (securityScore <= 75) {
                analysis += "ä½ å¯¹å…³ç³»æœ‰è¾ƒå¥½çš„å®‰å…¨æ„Ÿï¼Œèƒ½å¤Ÿä¿¡ä»»ä¼´ä¾£å¹¶ç»™äºˆé€‚å½“ç©ºé—´ã€‚";
            } else {
                analysis += "ä½ å¯¹å…³ç³»æœ‰å¾ˆå¼ºçš„å®‰å…¨æ„Ÿï¼Œèƒ½å¤Ÿå»ºç«‹å¥åº·ã€ç¨³å®šçš„æƒ…æ„Ÿè¿æ¥ã€‚";
            }
            
            return analysis;
        }

        // ç”Ÿæˆæ‹çˆ±å°è´´å£«
        function generateTips() {
            let tips = [];
            
            // æ ¹æ®å„ç»´åº¦åˆ†æ•°ç”Ÿæˆé’ˆå¯¹æ€§å»ºè®®
            if (controlScore > 60) {
                tips.push("å°è¯•ç»™äºˆä¼´ä¾£æ›´å¤šè‡ªä¸»ç©ºé—´ï¼Œä¿¡ä»»æ˜¯å¥åº·å…³ç³»çš„åŸºç¡€");
                tips.push("å­¦ä¼šåŒºåˆ†å…³å¿ƒä¸æ§åˆ¶ï¼ŒçœŸæ­£çš„çˆ±æ˜¯è®©å¯¹æ–¹åšè‡ªå·±");
            }
            
            if (jealousyScore > 60) {
                tips.push("å½“æ„Ÿåˆ°å«‰å¦’æ—¶ï¼Œå…ˆå†·é™åˆ†æäº‹å®ï¼Œé¿å…å› çŒœå¿Œä¼¤å®³æ„Ÿæƒ…");
                tips.push("åŸ¹å…»è‡ªä¿¡å¿ƒï¼Œç›¸ä¿¡è‡ªå·±çš„é­…åŠ›ï¼Œä¸è¿‡åˆ†åœ¨æ„ä»–äºº");
            }
            
            if (dependencyScore > 60) {
                tips.push("åŸ¹å…»ç‹¬ç«‹å…´è¶£çˆ±å¥½ï¼Œå¥åº·çš„çˆ±æƒ…éœ€è¦ä¸¤ä¸ªå®Œæ•´ä¸ªä½“çš„ç»“åˆ");
                tips.push("å­¦ä¼šç‹¬å¤„ï¼Œäº«å—ä¸€ä¸ªäººçš„æ—¶å…‰ï¼Œä¸è¿‡åº¦ä¾èµ–ä¼´ä¾£");
            }
            
            if (securityScore < 40) {
                tips.push("ä¸ä¼´ä¾£å¦è¯šæ²Ÿé€šä½ çš„ä¸å®‰å…¨æ„Ÿï¼Œå…±åŒå»ºç«‹ä¿¡ä»»æœºåˆ¶");
                tips.push("åæ€è¿‡å»çš„ç»å†æ˜¯å¦å½±å“ç°åœ¨çš„å®‰å…¨æ„Ÿï¼Œå¿…è¦æ—¶å¯»æ±‚ä¸“ä¸šå¸®åŠ©");
            }
            
            // é€šç”¨å»ºè®®
            tips.push("å®šæœŸè¿›è¡Œå…³ç³»æ²Ÿé€šï¼Œåˆ†äº«å½¼æ­¤çš„æ„Ÿå—å’Œéœ€æ±‚");
            tips.push("å°Šé‡å½¼æ­¤çš„ç‹¬ç«‹æ€§ï¼Œçˆ±æƒ…ä¸æ˜¯å æœ‰è€Œæ˜¯æ¬£èµ");
            tips.push("å»ºç«‹å¥åº·çš„å†²çªè§£å†³æ–¹å¼ï¼Œé¿å…æƒ…ç»ªåŒ–æŒ‡è´£");
            tips.push("åŸ¹å…»å…±åŒå…´è¶£çˆ±å¥½ï¼ŒåŒæ—¶ä¿æŒä¸ªäººæˆé•¿ç©ºé—´");
            tips.push("è®°ä½ï¼šçœŸæ­£çš„çˆ±æƒ…è®©äººè‡ªç”±ï¼Œè€Œä¸æ˜¯æŸç¼š");
            
            return tips;
        }

        // æ˜¾ç¤ºç»“æœ
        function showResult() {
            calculateScores();
            
            // è®¡ç®—æ€»ä½“å¾—åˆ†ï¼ˆå¹³å‡åˆ†ï¼‰
            const overallScore = Math.round((controlScore + jealousyScore + dependencyScore + (100 - securityScore)) / 4);
            overallScoreEl.textContent = overallScore;
            
            // æ›´æ–°åˆ†æ•°ç­‰çº§
            let scoreLevel = "";
            let scoreExplanation = "";
            
            if (overallScore <= 50) {
                scoreLevel = "åä½";
                scoreExplanation = "ä½ çš„çˆ±æƒ…å æœ‰æ¬²è¾ƒä½ï¼Œåœ¨å…³ç³»ä¸­ä¿æŒç†æ€§ä¸ç‹¬ç«‹ã€‚ä½ ç»™äºˆä¼´ä¾£å……åˆ†çš„è‡ªç”±å’Œç©ºé—´ï¼Œå¾ˆå°‘å› ä¸ºå°äº‹è€Œäº§ç”Ÿå«‰å¦’æˆ–ä¸å®‰ã€‚è¿™ç§è‡ªç”±è‡ªåœ¨çš„ç›¸å¤„æ–¹å¼æœ‰åŠ©äºå»ºç«‹å¥åº·çš„äº²å¯†å…³ç³»ï¼Œä½†ä¹Ÿè¦æ³¨æ„é€‚å½“è¡¨è¾¾å…³å¿ƒå’Œæƒ…æ„Ÿéœ€æ±‚ã€‚";
            } else if (overallScore <= 80) {
                scoreLevel = "ä¸­ç­‰";
                scoreExplanation = "ä½ çš„çˆ±æƒ…å æœ‰æ¬²å¤„äºé€‚ä¸­æ°´å¹³ï¼Œåœ¨å…³å¿ƒä¸å°Šé‡é—´æ‰¾åˆ°äº†è‰¯å¥½çš„å¹³è¡¡ã€‚ä½ æ—¢ä¼šè¡¨è¾¾å¯¹ä¼´ä¾£çš„åœ¨æ„ï¼Œåˆä¸ä¼šè¿‡åº¦å¹²æ¶‰å¯¹æ–¹çš„ä¸ªäººç©ºé—´ã€‚è¿™ç§æ°åˆ°å¥½å¤„çš„ç›¸å¤„æ–¹å¼æœ‰åŠ©äºå»ºç«‹ç¨³å®šè€Œäº²å¯†çš„å…³ç³»ã€‚";
            } else {
                scoreLevel = "åé«˜";
                scoreExplanation = "ä½ çš„çˆ±æƒ…å æœ‰æ¬²è¾ƒé«˜ï¼Œå€¾å‘äºåœ¨å…³ç³»ä¸­æŠ•å…¥å¤§é‡æƒ…æ„Ÿã€‚ä½ å¯¹ä¼´ä¾£çš„å…³æ³¨å’ŒæŠ•å…¥ä½“ç°äº†æ·±æ·±çš„çˆ±æ„ï¼Œä½†éœ€è¦æ³¨æ„é¿å…è¿‡åº¦æ§åˆ¶æˆ–ä¾èµ–ã€‚çˆ±åˆ°æè‡´çš„åŒæ—¶ï¼Œä¹Ÿè¦å­¦ä¼šç»™äºˆå½¼æ­¤é€‚å½“çš„ä¸ªäººç©ºé—´ã€‚";
            }
            
            scoreLevelEl.textContent = scoreLevel;
            scoreBarFillEl.style.width = `${overallScore}%`;
            scoreExplanationEl.textContent = scoreExplanation;
            
            // æ›´æ–°æ§åˆ¶æ¬²æœ›ç»´åº¦
            controlScoreEl.textContent = `${controlScore}åˆ†`;
            controlBarEl.style.width = `${controlScore}%`;
            controlDescEl.textContent = generateDimensionDesc(controlScore, 'control');
            
            // æ›´æ–°å«‰å¦’å¼ºåº¦ç»´åº¦
            jealousyScoreEl.textContent = `${jealousyScore}åˆ†`;
            jealousyBarEl.style.width = `${jealousyScore}%`;
            jealousyDescEl.textContent = generateDimensionDesc(jealousyScore, 'jealousy');
            
            // æ›´æ–°æƒ…æ„Ÿä¾èµ–ç»´åº¦
            dependencyScoreEl.textContent = `${dependencyScore}åˆ†`;
            dependencyBarEl.style.width = `${dependencyScore}%`;
            dependencyDescEl.textContent = generateDimensionDesc(dependencyScore, 'dependency');
            
            // æ›´æ–°å…³ç³»å®‰å…¨ç»´åº¦
            securityScoreEl.textContent = `${securityScore}åˆ†`;
            securityBarEl.style.width = `${securityScore}%`;
            securityDescEl.textContent = generateDimensionDesc(securityScore, 'security');
            
            // ç”Ÿæˆå¹¶æ˜¾ç¤ºæƒ…æ„Ÿåˆ†æ
            analysisContentEl.textContent = generateAnalysis();
            
            // ç”Ÿæˆå¹¶æ˜¾ç¤ºæ‹çˆ±å°è´´å£«
            const tips = generateTips();
            tipsContentEl.innerHTML = '';
            tips.forEach(tip => {
                const tipItem = document.createElement('div');
                tipItem.className = 'tip-item';
                tipItem.textContent = tip;
                tipsContentEl.appendChild(tipItem);
            });
            
            // æ˜¾ç¤ºç»“æœç•Œé¢
            testContainer.style.display = 'none';
            resultContainer.style.display = 'block';
            
            // æ»šåŠ¨åˆ°é¡¶éƒ¨
            window.scrollTo(0, 0);
        }

        // äº‹ä»¶ç›‘å¬
        submitBtn.addEventListener('click', showResult);

        restartBtn.addEventListener('click', () => {
            // é‡ç½®æµ‹è¯•
            answers.fill(null);
            testContainer.style.display = 'block';
            resultContainer.style.display = 'none';
            showAllQuestions();
            submitBtn.disabled = true;
            
            // æ»šåŠ¨åˆ°é¡¶éƒ¨
            window.scrollTo(0, 0);
        });

        // åˆå§‹åŒ–æµ‹è¯•
        showAllQuestions();
        submitBtn.disabled = true;
    </script>
</body>
</html>
